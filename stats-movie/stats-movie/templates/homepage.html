<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tela Inicial</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet"  href="{{ url_for('static', filename='styles/homepage.css') }}">
  <link href='https://fonts.googleapis.com/css?family=Work Sans' rel='stylesheet'>
</head>
<body>
    <div class="sidebar">
      <a data-bs-toggle="offcanvas" data-bs-target="#offcanvasScrolling" aria-controls="offcanvasScrolling" class="menu-icon"><img src="https://img.icons8.com/?size=100&id=36389&format=png&color=ffffff" alt=""></a>
      <a href="#"><img src="{{ url_for('static', filename='images/home.svg') }}" alt="Home" title="Home"></a>
      <a href="#"><img src="{{ url_for('static', filename='images/evento.svg') }}" alt="Eventos" title="Eventos"></a>
      <a href="#historico"><img src="{{ url_for('static', filename='images/historico.svg') }}" alt="Histórico" title="Histórico"></a>
      <a href="#minha-lista"><img src="{{ url_for('static', filename='images/lista.svg') }}" alt="Minha Lista" title="Minha Lista"></a> 
      <a href="#recomendados"><img src="{{ url_for('static', filename='images/recom.svg') }}" alt="Recomendados" title="Recomendados"></a>
      <a href=""><img src="https://img.icons8.com/?size=100&id=8193&format=png&color=ffffff" alt="Ação" title="Ação"></a>
      <a href=""><img src="https://img.icons8.com/?size=100&id=8193&format=png&color=ffffff" alt="Comédia" title="Comédia"></a>
      <a href=""><img src="https://img.icons8.com/?size=100&id=8193&format=png&color=ffffff" alt="Terror" title="Terror"></a>
      <a href=""><img src="{{ url_for('static', filename='images/config.svg') }}" alt="Configurações" title="Configurações"></a>
      <a href="/logout"><img src="https://img.icons8.com/?size=100&id=VTOU0AOwSnkY&format=png&color=ff0000" alt="Logout" title="Logout"></a>
    </div>

  <header class="header"> 
    <div><img class="logo" src="{{ url_for('static', filename='images/stats-movie.png') }}" alt="stats-movie"></div>
    <form class="search-box" action="">
      <span class="icon">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 17a6 6 0 100-12 6 6 0 000 12zm4-1l4 4" />
        </svg>
      </span>
      <input type="text" name="pesquisa" placeholder="Pesquise aqui..." class="search-bar">
      <button type="submit">Buscar</button>
    </form>
    <a href="/perfil" class="profile-button a1">
      <img class="foto-perfil" src="{{session['foto-perfil']}}" alt="">
      <span class="profile-points">100.000 pts.</span>
    </a>
  </header>

    <div class="offcanvas offcanvas-start " data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="offcanvasScrolling" aria-labelledby="offcanvasScrollingLabel">
      <div class="offcanvas-header ">
        <h5 class="offcanvas-title" id="offcanvasScrollingLabel">Menu</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <a href="#"><img src="{{ url_for('static', filename='images/home.svg') }}" alt="Home" title="Home">Home</a>
        <a href="#"><img src="{{ url_for('static', filename='images/evento.svg') }}" alt="Eventos" title="Eventos">Eventos</a>
        <a href="#"><img src="{{ url_for('static', filename='images/historico.svg') }}" alt="Historico" title="Histórico">Histórico</a>
        <a href="#"><img src="{{ url_for('static', filename='images/lista.svg') }}" alt="Minha Lista" title="Minha Lista">Minha Lista</a>
        <a href="#"><img src="{{ url_for('static', filename='images/recom.svg') }}" alt="Recomendados" title="Recomendados">Recomendados</a>
        <a href="#"><img src="https://img.icons8.com/?size=100&id=8193&format=png&color=ffffff" alt="Ação" title="Ação">Ação</a>
        <a href="#"><img src="https://img.icons8.com/?size=100&id=8193&format=png&color=ffffff" alt="Animação" title="Animação">Animação</a>
        <a href="#"><img src="https://img.icons8.com/?size=100&id=8193&format=png&color=ffffff" alt="Terror" title="Terror">Terror</a>
        <a href="#"><img src="{{ url_for('static', filename='images/config.svg') }}" alt="Eventos" title="Configurações">Configurações</a>
        <a href="/logout"><img src="https://img.icons8.com/?size=100&id=VTOU0AOwSnkY&format=png&color=ff0000" alt="Logout" title="Logout">Logout</a>




      </div>
    </div>

  <main>
    <section class="highlight">
      <div class="highlight-text">
        <h1>Hoje é o Dia Internacional da Animação!</h1>
        <p>Uma data especial para comemorar a arte da animação em todas as suas formas.</p>
        <p class="promo">Todas as animações assistidas hoje estão valendo o dobro de pontos!</p>
        <p>Então, escolha seu favorito, dê o play e aproveite essa celebração!</p>
      </div>
      <div class="carousel">
        <a href="https://www.themoviedb.org/movie/862-toy-story?language=pt-BR">
          <img src="https://m.media-amazon.com/images/M/MV5BZTA3OWVjOWItNjE1NS00NzZiLWE1MjgtZDZhMWI1ZTlkNzYwXkEyXkFqcGc@._V1_SX300.jpg" alt="Toy Story" class="a1">
        </a>
        <a href="https://www.themoviedb.org/movie/260514-cars-3?language=pt-BR">
          <img src="https://m.media-amazon.com/images/M/MV5BMTc0NzU2OTYyN15BMl5BanBnXkFtZTgwMTkwOTg2MTI@._V1_SX300.jpg" alt="Cars 3" class="a2">
        </a>
        <a href="https://www.themoviedb.org/movie/1022789-inside-out-2?language=pt-BR">
          <img src="https://m.media-amazon.com/images/M/MV5BYWY3MDE2Y2UtOTE3Zi00MGUzLTg2MTItZjE1ZWVkMGVlODRmXkEyXkFqcGc@._V1_SX300.jpg" alt="Inside Out 2" class="a3">
        </a>
        
      </div>
      <a id="historico"></a>
    </section>
    
    <section class="category">
      <h2>Filmes Assistidos</h2>
      <div class="center">
        <div class="carrossel">
          <div class="carrosselBox">
            <!-- aqui fica o conteudo dinamico -->
          </div>
          <a 
            class="switchLeft sliderButton btnstyle"
            onclick="sliderScrollLeft()"
          >&lt;</a>
          <a
            class="switchRight sliderButton btnstyle"
            onclick="sliderScrollRight()"
          >&gt;</a>
        </div>
      </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.20.0/axios.js"></script>
      <script src="/static/js/script.js"></script>
      <a  id="minha-lista"></a>
    </section>

    <section class="category">
      <h2>Minha Lista</h2>
      <div class="center">
        <div class="carrossel">
          <div class="carrosselBox2">
            <!-- aqui fica o conteudo dinamico -->
          </div>
          <a
            class="switchLeft sliderButton btnstyle"
            onclick="sliderScrollLeft2()"
          >&lt;</a>
          <a
            class="switchRight sliderButton btnstyle"
            onclick="sliderScrollRight2()"
          >&gt;</a>
        </div>
      </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.20.0/axios.js"></script>
      <script src="/static/js/script2.js"></script>
    </section>

    <section class="category">
      <h2>Recomendados</h2>
      <div class="center">
        <div class="carrossel">
          <div class="carrosselBox3">
            <!-- aqui fica o conteudo dinamico -->
          </div>
          <a id="recomendados"
            class="switchLeft sliderButton btnstyle"
            onclick="sliderScrollLeft3()"
          >&lt;</a>
          <a class="switchRight sliderButton btnstyle"
            onclick="sliderScrollRight3()"
          >&gt;
          </a>
        </div>
      </div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.20.0/axios.js"></script>
      <script src="/static/js/script3.js"></script>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-bottom">
      <p>&copy; 2024 stats.movie. Todos os direitos reservados.</p>
    </div>
  </footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script>
    const apikey = 'e67016b01ef609b82437fde192dabd82';
    const frmPesquisa = document.querySelector("form");

    frmPesquisa.onsubmit = function(ev) {
        ev.preventDefault();

        const pesquisa = ev.target.pesquisa.value;

        if (pesquisa == ""){
            alert('Preencha o campo!');
            return;
        }

        fetch(`https://www.omdbapi.com/?apikey=${apikey}&t=${pesquisa}`)
            .then(result => result.json())
            .then(json => carregaLista(json));
    }

    const carregaLista = (json) => {
        const lista = document.querySelector("div.lista");
        lista.innerHTML = "";

        json.Search.array.forEach(element => {
            console.log(element);

            let item = document.createElement("div");
            item.classList.add("item");

            item.innerHTML = `<img src="${element.Poster}" /><h2>${element.Title}<h2/>`;

            lista.appendChild(item);
        });
    }
  </script>
</body>
</html>
<link href='https://fonts.googleapis.com/css?family=Work Sans' rel='stylesheet'>